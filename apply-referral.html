<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Apply - Referral Partner</title>
  <link rel="stylesheet" href="styles/style.css" />
</head>

<body>

<header class="topbar">
  <div class="st-logo">
    <span class="st-s">S</span><span class="st-t">T</span>
    <span class="st-dot-left"></span><span class="st-dot-top"></span>
  </div>

  <nav>
    <a href="index.html">Home</a>
    <a href="careers.html">Careers</a>
  </nav>

  <button class="theme-toggle" id="themeToggle">Theme</button>
</header>

<main class="page">

  <section class="card">
    <h2>Referral Partner Application</h2>

    <p><strong>Compensation:</strong> Paid per client referral.</p>

    <p><strong>Disclaimer:</strong> This is a 1099 Independent Contractor role. You are not an employee of Solidified Tax Group.</p>

    <input id="name" placeholder="Full Name">
    <input id="email" placeholder="Email">
    <input id="phone" placeholder="Phone Number">
    <textarea id="experience" placeholder="Describe your networking or referral experience"></textarea>

    <button id="applyBtn" class="btn">Submit Application</button>
    <p id="status" style="margin-top:12px;"></p>
  </section>

</main>

<script src="js/main.js"></script>
<script>
document.getElementById("applyBtn").onclick = async () => {
  const payload = {
    role: "Referral Partner",
    name: document.getElementById("name").value.trim(),
    email: document.getElementById("email").value.trim(),
    phone: document.getElementById("phone").value.trim(),
    experience: document.getElementById("experience").value.trim()
  };

  const res = await fetch("/api/careers/apply", {
    method: "POST",
    headers: {"Content-Type": "application/json"},
    body: JSON.stringify(payload)
  });

  const data = await res.json();
  document.getElementById("status").textContent =
    data.success ? "Application submitted." : data.error;
};
</script>

</body>
</html>
