<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Your Documents â€“ Solidified Tax Group</title>
  <link rel="stylesheet" href="styles/style.css" />
</head>

<body>

<header class="topbar">
  <div class="st-logo">
    <span class="st-s">S</span>
    <span class="st-t">T</span>
    <span class="st-dot-left"></span>
    <span class="st-dot-top"></span>
  </div>
</header>

<main class="dashboard-layout">

  <aside class="sidebar">
    <h3 class="sidebar-title">Client Menu</h3>
    <a href="client-dashboard.html">ğŸ  Dashboard</a>
    <a href="client-documents.html">ğŸ“„ Documents</a>
    <a href="client-upload.html">â¬†ï¸ Upload</a>
    <a href="client-sign.html">âœï¸ Sign Docs</a>
    <a href="client-sign-history.html">ğŸ—‚ï¸ Signed History</a>
    <a href="client-status.html">ğŸ“Š Tax Status</a>
    <a href="client-profile.html">ğŸ‘¤ Profile</a>
  </aside>

  <section class="dashboard-main">

    <h2>Your Documents</h2>
    <p>All uploaded, signed, and generated documents appear here.</p>

    <div id="docsList" class="docs-grid">Loading...</div>

  </section>

</main>

<script>
async function loadDocs() {
  const email = localStorage.getItem("clientEmail");
  const container = document.getElementById("docsList");

  const res = await fetch(`/api/client/documents?email=${email}`);
  const docs = await res.json();

  if (!docs.length) {
    container.textContent = "No documents yet.";
    return;
  }

  container.innerHTML = docs.map(d => `
    <div class="doc-card">
      <h4>${d.originalName}</h4>
      <p>Uploaded: ${new Date(d.uploadedAt).toLocaleDateString()}</p>
      <button class="btn secondary" onclick="window.location.href='/uploads/${d.filename}'">Download</button>
    </div>
  `).join("");
}

document.addEventListener("DOMContentLoaded", loadDocs);
</script>

</body>
</html>
